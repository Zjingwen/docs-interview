# 005.typescriptåˆä½“éªŒï¼ˆ äºŒ ï¼‰

ğŸ˜„å…¶å®ä½ å¯ä»¥å«æˆ‘æ–‡æ¡£æ¬è¿å·¥ï¼Œä½†æˆ‘ä¼šå°½é‡é˜è¿°æˆ‘å¯¹å…¶è¯­æ³•çš„ç†è§£

## åŸºç¡€ç±»å‹

### åŸºç¡€æ•°æ®ç±»å‹çš„å£°æ˜æ–¹å¼

booleanã€numberã€stringçš„å£°æ˜æ–¹å¼éƒ½æ˜¯ç»Ÿä¸€çš„å½¢å¼ï¼Œç­‰å·å·¦ä¾§æ˜¯ï¼Œå˜é‡åè·Ÿéšå†’å·å†è·Ÿéšç±»å‹åï¼Œå³ä¾§æ˜¯å€¼ï¼Œ`let å˜é‡å:å˜é‡ç±»å‹ = å˜é‡å€¼;`ã€‚

```js
let isBool: boolean = false;
let isStr: string = 'hello';
let num: number = 123;
```

### boolean å¸ƒå°”ç±»å‹

```js
let isBool: boolean = false;
let isBool: boolean = true;
```

### number æ•°å­—ç±»å‹

```js
let num: number = 1;
let hex: number = 0xf00d;
let binary: number = 0b1010;
let octal: number = 0o744;
```

æ”¯æŒäºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶çš„ç›´æ¥å­—é¢é‡ã€‚
æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹ç±»å‹ã€‚

###string å­—ç¬¦ä¸²ç±»å‹

```js
let name: string = "bob";
let sex = 'boy';
```

å¯ä»¥ä½¿ç”¨å•å¼•å· or åŒå¼•å·

```js
let name: string = `Gene`;
let age: number = 37;
let sentence: string = `hello${name}`;
```

æ”¯æŒæ¨¡ç‰ˆå­—ç¬¦ä¸²

```js
let name: string = 'Gene';
let hello: string = 'hello'+name;
```

æ”¯æŒå­—ç¬¦ä¸²æ‹¼æ¥

### Array æ•°ç»„ç±»å‹

```js
let list: number[]=[1,2,3];
let list2: Array<number>=[1,2,3];
```

æ•°ç»„å£°æ˜çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š
1ã€åœ¨å…ƒç´ ç±»å‹åé¢åˆ†æ–¹æ‰©å·ã€‚`let å˜é‡å: å…ƒç´ ç±»å‹[] = å˜é‡å€¼`
2ã€ä½¿ç”¨æ•°ç»„æ³›å‹ã€‚`let å˜é‡å: Array<å…ƒç´ ç±»å‹> = å˜é‡å€¼ `

### object å¯¹è±¡ç±»å‹

```js
const numLivesForCat: number = 9;
let kitty = {
	name: "Aurora",
	numLives: numLivesForCat,
}
```

### Tuple å…ƒç¥–ç±»å‹

å£°æ˜ä¸€ä¸ªï¼Œå·²çŸ¥lenghtã€å·²çŸ¥typeçš„æ•°ç»„ã€‚å£°æ˜æ–¹å¼ä¸ºï¼Œç”±å˜é‡åå†’å·æ–¹æ‹¬å·ï¼Œæ–¹æ‹¬å·å†…æ˜¯æ•°ç»„å¯èƒ½å­˜åœ¨çš„ç±»å‹ã€‚ç­‰å·å³ä¾§ä¸ºèµ‹å€¼ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ˜ç¡®çš„æ•°ç»„ã€‚`let å˜é‡å:[...å˜é‡ç±»å‹...] = [ç¬¦åˆå˜é‡ç±»å‹çš„å˜é‡å€¼]`

```js
let x: [string,number] = ['hello',1];
x = ['aaa',1];
console.log(x[0]);
console.log(x[1]);
```

å½“èµ‹å€¼å‡ºç°è¶Šç•Œæ—¶ï¼Œä½ çš„èµ‹å€¼ç±»å‹ï¼Œåªèƒ½æ˜¯å£°æ˜ç±»å‹çš„ä¸€ç§ã€‚

```js
let x: [string, number] = ['hello',1];
x[3] = 'aaa';
// x[4] = true; error
```

### enum æšä¸¾ç±»å‹

ä¸ºæ•°æ®ç±»å‹èµ‹äºˆå‹å¥½çš„åç§°
å£°æ˜æ–¹å¼ä¸ºï¼Œå…³é”®å­—enumï¼Œåç§°ï¼ŒèŠ±æ‹¬å·ï¼ŒèŠ±æ‹¬å·å†…æ˜¯æšä¸¾çš„åä¸å€¼ã€‚
`enum æšä¸¾å˜é‡å = {æšä¸¾å = æšä¸¾å€¼,.....}`

ä½¿ç”¨æ–¹æ³•ä¸ºï¼Œå°†æšä¸¾å˜é‡åä½œä¸ºå˜é‡çš„å˜é‡ç±»å‹ï¼Œç„¶åä¼ å…¥æ ¹æ®æšä¸¾å˜é‡åé€šè¿‡ç‚¹å·ç¬¦ï¼Œå–å‡ºæšä¸¾å€¼ã€‚
`let å˜é‡å: æšä¸¾å˜é‡å = æšä¸¾å˜é‡å.æšä¸¾å`

```js
enum Color = {Red,Green,Blue};
let c: Color = Color.Green;
```

æšä¸¾ç±»å‹çš„é»˜è®¤å€¼ï¼Œæ˜¯ä»0å¼€å§‹ï¼ŒæŒ‰å‡åºé€’å¢ã€‚

```js
enum Color = {Red=0,Green,Blue};
```

ä½ å¯ä»¥æ ¹æ®æšä¸¾å€¼ï¼Œæ‹¿åˆ°æšä¸¾å

```js
enum Color = {Red,Green,Blue};
let ColorName: string = Color[1];
```

### Any ä»»æ„ç±»å‹

é‡äº‹ä¸å†³ç”¨anyï¼Œå“ˆå“ˆã€‚åœ¨ä¸æ˜ç¡®å˜é‡ç±»å‹æ—¶ï¼Œå¯ä»¥ç”¨anyæ¥ç¦æ­¢å˜é‡ç±»å‹çš„æ£€æŸ¥ã€‚
ä½¿ç”¨æ–¹æ³•ï¼Œ`let å˜é‡å: any = å˜é‡å€¼`

```js
let s : any = 1;
s = '1';
let list: any[] = [1,'a',true];
```

### Void ç©ºå€¼

nullæˆ–è€…undefinedï¼Œå£°æ˜æ–¹å¼ï¼Œ`let å˜é‡å:void = null/undefined`ã€‚åœ¨æ–¹æ³•ä¸­è¡¨ç¤ºæ— è¿”å›å€¼ã€‚

```js
function a():void{
  console.log('a');
};
```

### Nullå’Œundefined

é»˜è®¤æƒ…å†µä¸‹nullå’Œundefinedæ˜¯æ‰€æœ‰ç±»å‹çš„å­é›†

```js
let n:null = null;
let u:undefined = null;
```

### Never ç‰¹æ®Šç±»å‹

ç‰¹æ®Šç±»å‹ï¼Œä¾‹å¦‚new Errorã€error

```js
function error():never{
  return new Error('xxxx');
}
```

### ç±»å‹æ–­è¨€

å½“æˆ‘ä»¬éœ€è¦è®¿é—®ä¸€ä¸ªä¸ç¡®å®šç±»å‹çš„å±æ€§æ—¶ï¼Œå°†å±æ€§æ–­è¨€å³å¯ã€‚æ–­è¨€çš„ç”¨æ³•`<ç±»å‹>å€¼`ã€`å€¼ as ç±»å‹`

```js
function getLength(something: string|number):number{
  if( (<string>something).length ){
    return (<string>something).length;
  }else{
    return something.toString().length;
  }
}
```

## interfaceæ¥å£

åœ¨Typescriptä¸­æˆ‘ä»¬ç”¨æ¥å£ï¼ˆinterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡ç±»å‹ï¼Œæ¥å£å½¢å¼æ˜¯å¯¹è¡Œä¸ºçš„ä¸€ç§æŠ½è±¡ï¼Œä½¿å…¶çµæ´»å¼ºå£®ã€‚

### æ–°å»ºæ¥å£

```js
interface Point{
  x: number;
  y: number;
}

const myPoint: Point={
  x: 1,
  y: 2,
}
```

å½“æˆ‘ä»¬å®šä¹‰å¥½interfaceä¹‹åï¼Œå¯¹è±¡åœ¨éå¯é€‰å±æ€§æˆ–è€…ä»»æ„å±æ€§çš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸èƒ½å°‘äºæˆ–è€…å¤šä½™æˆ‘ä»¬å®šä¹‰çš„interfaceã€‚è€Œä¸”ç±»å‹å¿…é¡»ä¸€è‡´ã€‚

### å¯é€‰å±æ€§

å¦‚æœæˆ‘ä»¬å°±æ˜¯å¸Œæœ›å¯¹è±¡æœ‰ç¼ºçœçš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å°±èƒ½ç”¨å¯é€‰å±æ€§äº†ã€‚

```js
interface Point = {
  x: number;
  y: number;
  z?: number;
}

const myPoint: Point = {
  x: 1,
  y: 2,
}
```

åœ¨æ¥å£ååè·Ÿä¸Šé—®å·å³å¯ï¼Œè¿™æ ·åœ¨æˆ‘ä»¬å®šä¹‰æ—¶å°±å¯ä»¥ç¼ºçœäº†ã€‚

### ä»»æ„å±æ€§

æ‰©å±•æ¥å£çš„å±æ€§ï¼Œæ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„å±æ€§

```
interface Point {
	x: string;
	y: string;
	[propName: string]: number;
}

let myPoint: Point = {
	x: 1,
	y: 2,
	z: 3,
}
```

### åªè¯»å±æ€§

åœ¨ç¬¬ä¸€æ¬¡å®šä¹‰ä¹‹åï¼Œå°±ä¸èƒ½ä¿®æ”¹

```js
interface Point {
	readonly x: number;
	y: number;
}

let myPoint: Point = {
  x: 1,
  y: 2,
}
// Point.x = 3 // error
```

æ¥å£å®šä¹‰æ—¶åœ¨æ¥å£åå‰ï¼ŒåŠ ä¸Šreadonlyå…³é”®å­—å³å¯